<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Latest News</title>
  <!-- Bootstrap CSS -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" 
          rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" 
          crossorigin="anonymous">
  <style>
    .btn {
            background-color: #9461fb !important;
    border: none !important;
    padding: 12px;
    border-radius: 10px !important;
    font-weight: bold;
    transition: background-color 0.3s ease, transform 0.2s ease;
        }
        /* button a{
            text-decoration: none;
            color: white;
        } */

        li{
            border-radius: 5px;
            box-shadow: 0 5px 5px rgba(43, 42, 44, 0.3);
        }
        nav{
            box-shadow: 0 5px 15px rgba(43, 42, 44, 0.3);
        }
        .navbar-collapse a:hover{
            text-decoration: underline;
        }
        select{
            border-radius: 8px;
    padding: 10px 15px;
    border: 1px solid #ced4da;
    background-color: #f8f9fa;
    transition: border-color 0.3s ease, box-shadow 0.3s ease;
    width:400px;
        }
  </style>
</head>
<body>

<nav class="navbar navbar-expand-md bg-body sticky-top border-bottom">
    <div class="container-fluid">
      <div  class="navbar-nav">
        <a class="nav-link" href="/"><h4>Click2Join</h4></a>
      </div>
      <button class="navbar-toggler btn" type="button" data-bs-toggle="collapse" data-bs-target="#multiCollapseExample2" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button> 
      <div class="collapse navbar-collapse" id="multiCollapseExample2">
        <div class="navbar-nav ms-auto ">
          <a class="nav-link" href="users">View all users</a>
          <% if(!currUser){ %>
            <a class="nav-link" href="/login">Log In</a>
              <% } %>
          <% if(currUser){ %>
          <a class="nav-link" href="/logout">Log Out</a>
            <% } %>
        </div>
      </div>
    </div>
  </nav>
        
  <div class="container mt-4">
    <form action="/news" method="get" class="offset-3 mb-4">

    <select name="category">
    <option value="general">General</option>
    <option value="business">Business</option>
    <option value="sports">Sports</option>
    <option value="technology">Technology</option>
    <option value="health">Health</option>
  </select>

  <button class="btn" type="submit">Get News</button>
</form>
    <h1 class="mb-4 mt-4 text-center">Latest News</h1>
    <div class="row">
      <% if (articles && articles.length > 0) { %>
        <% articles.forEach(article => { %>
          <div class="col-md-4 mb-4">
            <div class="card h-100 shadow-sm">
              <% if (article.urlToImage) { %>
                <img src="<%= article.urlToImage %>" class="card-img-top" alt="News Image" />
              <% } %>
              <div class="card-body d-flex flex-column">
                <h5 class="card-title"><%= article.title %></h5>
                <p class="card-text"><%= article.description %></p>
                <a href="<%= article.url %>" class="btn btn-primary mt-auto" target="_blank">Read More</a>
              </div>
            </div>
          </div>
        <% }) %>
      <% } else { %>
        <p>No news available at the moment.</p>
      <% } %>
    </div>
  </div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>